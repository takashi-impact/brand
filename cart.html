<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>ケーキショップ向け 無料ホームページテンプレート tp_cute2</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="ここにサイト説明を入れます">
<meta name="keywords" content="キーワード１,キーワード２,キーワード３,キーワード４,キーワード５">
<link rel="stylesheet" href="css/style.css">
<script src="js/openclose.js"></script>
<script src="js/fixmenu_pagetop.js"></script>

<!-- toaster -->
<!-- https://phiary.me/toastr-usage/ -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<link href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet" />
<script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<!-- /toaster -->
<!-- Load tags.html -->
<script>
    $(function(){
        $.get('tags.html',function(data){
            $("body").append(data);
        });
    });
</script>
<!-- Load tags.html -->

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>

<div id="container">

<header>
<h1 id="logo"><a href="index.html"><img src="images/logo2.png" alt="Macaroon Shop"></a></h1>
<h2>MACARRON<span>マカロンメニュー</span></h2>
<!--PC用（901px以上端末）メニュー-->
<nav id="menubar">
<ul>
<li><a href="index.html"><span>Home</span><span>ホーム</span></a></li>
<li><a href="about.html"><span>About</span><span>ショップについて</span></a></li>
<li><a href="menu.html"><span>Macarron</span><span>マカロンメニュー</span></a></li>
<li><a href="cart.html"><span>Cart</span><span>カート</span></a></li>
<li><a href="access.html"><span>Access</span><span>アクセス</span></a></li>
<li><a href="recruit.html"><span>Recruit</span><span>お友達紹介</span></a></li>
</ul>
<ul class="icon">
<li><a href="#"><img src="images/icon_facebook.png" alt="Facebook"></a></li>
<li><a href="#"><img src="images/icon_twitter.png" alt="Twitter"></a></li>
<li><a href="#"><img src="images/icon_instagram.png" alt="Instagram"></a></li>
<li><a href="#"><img src="images/icon_youtube.png" alt="YouTube"></a></li>
<li><a href="#"><img src="images/icon_line.png" alt="LINE"></a></li>
</ul>
</nav>
</header>

<!--小さな端末用（900px以下端末）ブロック-->
<nav id="menubar-s">
<ul>
<li><a href="index.html"><span>Home</span><span>ホーム</span></a></li>
<li><a href="about.html"><span>About</span><span>ショップについて</span></a></li>
<li><a href="menu.html"><span>Macarron</span><span>マカロンメニュー</span></a></li>
<li><a href="cart.html"><span>Cart</span><span>カート</span></a></li>
<li><a href="access.html"><span>Access</span><span>アクセス</span></a></li>
<li><a href="recruit.html"><span>Recruit</span><span>お友達紹介</span></a></li>
</ul>
<ul class="icon">
<li><a href="#"><img src="images/icon_facebook.png" alt="Facebook"></a></li>
<li><a href="#"><img src="images/icon_twitter.png" alt="Twitter"></a></li>
<li><a href="#"><img src="images/icon_instagram.png" alt="Instagram"></a></li>
<li><a href="#"><img src="images/icon_youtube.png" alt="YouTube"></a></li>
<li><a href="#"><img src="images/icon_line.png" alt="LINE"></a></li>
</ul>
</nav>

<div id="main">

<section class="ofh">

<h2>Cart</h2>
<script>
    function getCookieValue(cookieName,defaultValue=''){
        var cookies = document.cookie;
        var cookieItem = cookies.split(";");
        var cookieValue = defaultValue;
        for (i = 0; i < cookieItem.length; i++) {
            var elem = cookieItem[i].split("=");
            if (elem[0].trim() == cookieName) {
                cookieValue = parseInt(unescape(elem[1]));
            } else {
                continue;
            }
        }
        return cookieValue
    };

    function renderCart(numInCart=0){
        var totalPrice = 0;

        // Make the table blank first then render the lists
        $('#main > section > div > table').empty()

        // Render a list of products
        for(var i=0;i<numInCart;i++){
            if((i%2) != 0){
                totalPrice += 150;
                $('#main > section > div > table').append('\
                    <tr>\
                        <td><figure><img src="images/sample1.jpg" alt=""></td>\
                        <td>マカロンタイトル</td>\
                        <td>150円</td>\
                        <td><a href="#" onclick="deleteFromCart()">Delete</a></td>\
                    </tr>\
                ')
            }else{
                totalPrice += 200;
                $('#main > section > div > table').append('\
                    <tr>\
                        <td><figure><img src="images/sample2.jpg" alt=""></td>\
                        <td>マカロンタイトル</td>\
                        <td>200円</td>\
                        <td><a href="#" onclick="deleteFromCart()">Delete</a></td>\
                    </tr>\
                ')
            }

        };

        $('#total-price').text(totalPrice)
    };

    function deleteFromCart(){
        var numInCart = getCookieValue('numInCart',0)

        if (numInCart == 0){
            // Nothing
        }else{
            numInCart --;
            document.cookie = "numInCart=" + numInCart;
            toastr.info('カートから削除されました（'+numInCart+'商品)')  
        };
        renderCart(numInCart)
    };





    // Render a list of products
    $(document).ready( function(){
        var numInCart = getCookieValue('numInCart',0);
        renderCart(numInCart);
    }); 
</script>
<p class="price-amount">合計<span id="total-price">0</span>円</p>
<div class="cart">
<table></table>
<a href="./thanks.html" class="btn-square-soft-pink">購入する</a>
</div>


</section>



</div>
<!--/#main-->

<footer>
<small>Copyright&copy; <a href="index.html">Macaroon Shop</a> All Rights Reserved.</small>
<span class="pr"><a href="https://template-party.com/" target="_blank">《Web Design:Template-Party》</a></span>
</footer>

</div>
<!--/#container-->

<!--ページの上部に戻るボタン-->
<p class="nav-fix-pos-pagetop"><a href="#"><img src="images/icon_pagetop.png" alt="↑"></a></p>

<!--メニュー開閉ボタン-->
<div id="menubar_hdr" class="close"></div>

<!--メニューの開閉処理-->
<script>
open_close("menubar_hdr", "menubar-s");
</script>

</body>
</html>
